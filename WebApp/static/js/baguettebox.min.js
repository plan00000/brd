/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 1.3.0
 * @url https://github.com/feimosi/baguetteBox.js
 */
var baguetteBox=(function(){var o='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',L='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',I='<svg width="30" height="30"><g stroke="rgb(160, 160, 160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>';var x={},B={captions:true,buttons:"auto",async:false,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null};var C={};var H,f,J,r,a;var b=0,h=-1;var w;var y=false;var d=/.+\.(gif|jpe?g|png|webp)/i;var l=[];var v=new Object();var F=[];var D=new Object();if(![].forEach){Array.prototype.forEach=function(Q,O){for(var P=0;P<this.length;P++){Q.call(O,this[P],P,this)}}}if(![].filter){Array.prototype.filter=function(P,O,S,R,Q){S=this;R=[];for(Q=0;Q<S.length;Q++){P.call(O,S[Q],Q,S)&&R.push(S[Q])}return R}}function t(O,P){C.transforms=G();C.svg=c();m();l=document.querySelectorAll(O);[].forEach.call(l,function(T,Q){var R=T.getElementsByTagName("a");R=[].filter.call(R,function(U){return d.test(U.href)});var S=O+Q;v[S]=R;v[S].options=P;[].forEach.call(v[S],function(X,U){var W=function(Y){Y.preventDefault?Y.preventDefault():Y.returnValue=false;n(S);j(U)};var V=X.href;if(D[V]!==undefined){q(X,"click",D[V])}D[V]=W;e(X,"click",W)})})}function m(){H=g("baguetteBox-overlay");if(H){f=g("baguetteBox-slider");J=g("previous-button");r=g("next-button");a=g("close-button");return}H=i("div");H.id="baguetteBox-overlay";document.getElementsByTagName("body")[0].appendChild(H);f=i("div");f.id="baguetteBox-slider";H.appendChild(f);J=i("button");J.id="previous-button";J.innerHTML=C.svg?o:"&lt;";H.appendChild(J);r=i("button");r.id="next-button";r.innerHTML=C.svg?L:"&gt;";H.appendChild(r);a=i("button");a.id="close-button";a.innerHTML=C.svg?I:"X";H.appendChild(a);J.className=r.className=a.className="baguetteBox-button";K()}function K(){e(H,"click",function(O){if(O.target&&O.target.nodeName!=="IMG"&&O.target.nodeName!=="FIGCAPTION"){z()}});e(J,"click",function(O){O.stopPropagation?O.stopPropagation():O.cancelBubble=true;k()});e(r,"click",function(O){O.stopPropagation?O.stopPropagation():O.cancelBubble=true;N()});e(a,"click",function(O){O.stopPropagation?O.stopPropagation():O.cancelBubble=true;z()});e(H,"touchstart",function(O){w=O.changedTouches[0].pageX});e(H,"touchmove",function(O){if(y){return}O.preventDefault?O.preventDefault():O.returnValue=false;touch=O.touches[0]||O.changedTouches[0];if(touch.pageX-w>40){y=true;k()}else{if(touch.pageX-w<-40){y=true;N()}}});e(H,"touchend",function(O){y=false});e(document,"keydown",function(O){switch(O.keyCode){case 37:k();break;case 39:N();break;case 27:z();break}})}function n(O){if(h!=O){h=O;p(v[O].options);while(f.firstChild){f.removeChild(f.firstChild)}F.length=0}var R=[];for(var Q=0,P;Q<v[O].length;Q++){P=i("div");P.className="full-image";P.id="baguette-img-"+Q;var S=g(P.id);if(S==null){R.push(P);f.appendChild(P)}else{R.push(S)}}F=R}function p(P){if(!P){P={}}for(var O in B){x[O]=B[O];if(typeof P[O]!=="undefined"){x[O]=P[O]}}f.style.transition=f.style.webkitTransition=(x.animation==="fadeIn"?"opacity .4s ease":x.animation==="slideIn"?"":"none");if(x.buttons==="auto"&&("ontouchstart" in window||v[h].length===1)){x.buttons=false}}function j(O){if(H.style.display==="block"){return}b=O;s(b,function(){M(b);u(b)});A();H.style.display="block";setTimeout(function(){H.className="visible";if(x.afterShow){x.afterShow()}},50);if(x.onChange){x.onChange(b,F.length)}}function z(){if(H.style.display==="none"){return}H.className="";setTimeout(function(){H.style.display="none";if(x.afterHide){x.afterHide()}},500)}function s(R,U){var Q=F[R];if(typeof Q==="undefined"){return}imageElement=v[h][R];imageCaption=(typeof(x.captions)==="function")?x.captions.call(v[h],imageElement):imageElement.getAttribute("data-caption")||imageElement.title;imageSrc=E(imageElement);var P=Q.getElementsByTagName("img")[0];if(P&&imageSrc==P.src){if(U){U()}return}if(P){var O=Q.getElementsByTagName("figure")[0];Q.removeChild(O)}var O=i("figure");var T=i("img");var S=i("figcaption");Q.appendChild(O);O.innerHTML='<div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>';T.onload=function(){var V=document.querySelector("#baguette-img-"+R+" .spinner");O.removeChild(V);if(!x.async&&U){U()}};T.setAttribute("src",imageSrc);O.appendChild(T);if(x.captions&&imageCaption){S.innerHTML=imageCaption;O.appendChild(S)}if(x.async&&U){U()}}function E(T){var O=imageElement.href;if(T.dataset){var S=[];for(var R in T.dataset){if(R.substring(0,3)==="at-"&&!isNaN(R.substring(3))){S[R.replace("at-","")]=T.dataset[R]}}keys=Object.keys(S).sort(function(V,U){return parseInt(V)<parseInt(U)?-1:1
});var Q=window.innerWidth*window.devicePixelRatio;var P=0;while(P<keys.length-1&&keys[P]<Q){P++}O=S[keys[P]]||O}return O}function N(){var O;if(b<=F.length-2){b++;A();M(b);O=true}else{if(x.animation){f.className="bounce-from-right";setTimeout(function(){f.className=""},400);O=false}}if(x.onChange){x.onChange(b,F.length)}return O}function k(){var O;if(b>=1){b--;A();u(b);O=true}else{if(x.animation){f.className="bounce-from-left";setTimeout(function(){f.className=""},400);O=false}}if(x.onChange){x.onChange(b,F.length)}return O}function A(){var O=-b*100+"%";if(x.animation==="fadeIn"){f.style.opacity=0;setTimeout(function(){C.transforms?f.style.transform=f.style.webkitTransform="translate3d("+O+",0,0)":f.style.left=O;f.style.opacity=1},400)}else{C.transforms?f.style.transform=f.style.webkitTransform="translate3d("+O+",0,0)":f.style.left=O}}function G(){var O=i("div");return typeof O.style.perspective!=="undefined"||typeof O.style.webkitPerspective!=="undefined"}function c(){var O=i("div");O.innerHTML="<svg/>";return(O.firstChild&&O.firstChild.namespaceURI)=="http://www.w3.org/2000/svg"}function M(O){if(O-b>=x.preload){return}s(O+1,function(){M(O+1)})}function u(O){if(b-O>=x.preload){return}s(O-1,function(){u(O-1)})}function e(O,P,Q){if(O.addEventListener){O.removeEventListener(P,Q,false);O.addEventListener(P,Q,false)}else{O.detachEvent("on"+P,Q);O.attachEvent("on"+P,Q)}}function q(O,P,Q){if(O.addEventListener){O.removeEventListener(P,Q,false)}else{O.detachEvent("on"+P,Q)}}function g(O){return document.getElementById(O)}function i(O){return document.createElement(O)}return{run:t,showNext:N,showPrevious:k}})();